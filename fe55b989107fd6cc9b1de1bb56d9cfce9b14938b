{
  "comments": [
    {
      "key": {
        "uuid": "f578d6f1_b4dab9f9",
        "filename": "astlpc.c",
        "patchSetId": 4
      },
      "lineNbr": 163,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2021-11-04T04:19:18Z",
      "side": 1,
      "message": "You don\u0027t need this cast, mctp_pktbuf_trailer already returns a void *.",
      "revId": "fe55b989107fd6cc9b1de1bb56d9cfce9b14938b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "95ccfa30_eba016d5",
        "filename": "astlpc.c",
        "patchSetId": 4
      },
      "lineNbr": 163,
      "author": {
        "id": 1000392
      },
      "writtenOn": "2021-11-09T05:22:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f578d6f1_b4dab9f9",
      "revId": "fe55b989107fd6cc9b1de1bb56d9cfce9b14938b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d75ad844_1003befb",
        "filename": "astlpc.c",
        "patchSetId": 4
      },
      "lineNbr": 164,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2021-11-04T06:03:51Z",
      "side": 1,
      "message": "There\u0027s no guarantee that trailer is appropriately aligned. This should be memcpy()ed.",
      "revId": "fe55b989107fd6cc9b1de1bb56d9cfce9b14938b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a841cb5_5cce5b92",
        "filename": "astlpc.c",
        "patchSetId": 4
      },
      "lineNbr": 164,
      "author": {
        "id": 1000392
      },
      "writtenOn": "2021-11-09T05:22:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d75ad844_1003befb",
      "revId": "fe55b989107fd6cc9b1de1bb56d9cfce9b14938b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "541090d2_c701b4e1",
        "filename": "astlpc.c",
        "patchSetId": 4
      },
      "lineNbr": 790,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2021-11-04T04:19:18Z",
      "side": 1,
      "message": "I am going to assume that this updated calculation is correct (len + 4 now?), but I\u0027ll defer to Andrew on this.",
      "revId": "fe55b989107fd6cc9b1de1bb56d9cfce9b14938b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9f871317_26df6542",
        "filename": "astlpc.c",
        "patchSetId": 4
      },
      "lineNbr": 790,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2021-11-04T06:03:51Z",
      "side": 1,
      "message": "Following where the trailer size value gets propagated is a bit of a maze, but this seems okay.",
      "parentUuid": "541090d2_c701b4e1",
      "revId": "fe55b989107fd6cc9b1de1bb56d9cfce9b14938b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f89c2a7b_c2807545",
        "filename": "astlpc.c",
        "patchSetId": 4
      },
      "lineNbr": 790,
      "author": {
        "id": 1000392
      },
      "writtenOn": "2021-11-09T05:22:57Z",
      "side": 1,
      "message": "If you guys prefer the hard coded values I will use those instead.",
      "parentUuid": "9f871317_26df6542",
      "revId": "fe55b989107fd6cc9b1de1bb56d9cfce9b14938b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ad150ddd_02594a35",
        "filename": "astlpc.c",
        "patchSetId": 4
      },
      "lineNbr": 924,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2021-11-04T06:03:51Z",
      "side": 1,
      "message": "This rename is bit of an editorial change. Can you please separate it out? I think it distracts from the rest of what\u0027s going on here.",
      "revId": "fe55b989107fd6cc9b1de1bb56d9cfce9b14938b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "209c1ead_d97aa1dd",
        "filename": "astlpc.c",
        "patchSetId": 4
      },
      "lineNbr": 924,
      "author": {
        "id": 1000392
      },
      "writtenOn": "2021-11-09T05:22:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ad150ddd_02594a35",
      "revId": "fe55b989107fd6cc9b1de1bb56d9cfce9b14938b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "581a33f0_aa167c29",
        "filename": "libmctp.h",
        "patchSetId": 4
      },
      "lineNbr": 47,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2021-11-04T06:03:51Z",
      "side": 1,
      "message": "Given we have `hdr` can we use `tlr` for some consistency?",
      "revId": "fe55b989107fd6cc9b1de1bb56d9cfce9b14938b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7a2f0bfb_8c9f8558",
        "filename": "libmctp.h",
        "patchSetId": 4
      },
      "lineNbr": 47,
      "author": {
        "id": 1000392
      },
      "writtenOn": "2021-11-09T05:22:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "581a33f0_aa167c29",
      "revId": "fe55b989107fd6cc9b1de1bb56d9cfce9b14938b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d7022427_6645ea13",
        "filename": "libmctp.h",
        "patchSetId": 4
      },
      "lineNbr": 61,
      "author": {
        "id": 1000016
      },
      "writtenOn": "2021-11-04T04:19:18Z",
      "side": 1,
      "message": "These names are much better, thanks! I\u0027d prefer to keep the prefixes consistent though - everything with mctp_, and since these are pktbuf operations: mctp_ptkbuf_{...}\n\n(essentially, just changing \u0027alloc\u0027 to \u0027increment\u0027/\u0027decrement\u0027)",
      "revId": "fe55b989107fd6cc9b1de1bb56d9cfce9b14938b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "413469ff_d2ac857f",
        "filename": "libmctp.h",
        "patchSetId": 4
      },
      "lineNbr": 61,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2021-11-04T06:03:51Z",
      "side": 1,
      "message": "Second this; C doesn\u0027t have namespaces so we use symbol prefixes as a convention instead.",
      "parentUuid": "d7022427_6645ea13",
      "revId": "fe55b989107fd6cc9b1de1bb56d9cfce9b14938b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1bbb1bdb_0f09aa07",
        "filename": "libmctp.h",
        "patchSetId": 4
      },
      "lineNbr": 61,
      "author": {
        "id": 1000392
      },
      "writtenOn": "2021-11-09T05:22:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "413469ff_d2ac857f",
      "revId": "fe55b989107fd6cc9b1de1bb56d9cfce9b14938b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "89784b1a_1b671bea",
        "filename": "serial.c",
        "patchSetId": 4
      },
      "lineNbr": 348,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2021-11-04T06:03:51Z",
      "side": 1,
      "message": "This is a separate bug fix",
      "revId": "fe55b989107fd6cc9b1de1bb56d9cfce9b14938b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ea61c745_c8419417",
        "filename": "serial.c",
        "patchSetId": 4
      },
      "lineNbr": 348,
      "author": {
        "id": 1000392
      },
      "writtenOn": "2021-11-09T05:22:57Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "89784b1a_1b671bea",
      "revId": "fe55b989107fd6cc9b1de1bb56d9cfce9b14938b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fca663d8_4d98b176",
        "filename": "tests/test_bridge.c",
        "patchSetId": 4
      },
      "lineNbr": 60,
      "author": {
        "id": 1000009
      },
      "writtenOn": "2021-11-04T06:03:51Z",
      "side": 1,
      "message": "This seems error-prone / easily forgotten. It\u0027s not so much a comment about this invocation, but the API requirement.",
      "revId": "fe55b989107fd6cc9b1de1bb56d9cfce9b14938b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dd2b5001_34ed769f",
        "filename": "tests/test_bridge.c",
        "patchSetId": 4
      },
      "lineNbr": 60,
      "author": {
        "id": 1000392
      },
      "writtenOn": "2021-11-09T05:22:57Z",
      "side": 1,
      "message": "The alternative that I can think of is to force all of the bindings to use mctp_pktbuf_push to fill in pktbuf. This works find in a lot of cases but in some cases is causes extra memory to be used.\n\nFor example it\u0027s handy to grab ptr to the pktbuf_hdr and fill in the hdr information. However as soon as you do, the -\u003eend() member should be incremented by the size of the header. \n\nIf we force mctp_pktbuf_push() to be used, then we have to allocate a local hdr struct to fill out then memcpy which is inefficient. \n\nIt gets worse in functions like mctp_astlpc_rx_start where we read directly from the lpc bus into a data ptr in the pktbuf. \n\nGot any better ideas on a way to track the \"end\" value ?",
      "parentUuid": "fca663d8_4d98b176",
      "revId": "fe55b989107fd6cc9b1de1bb56d9cfce9b14938b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}